// 語系
const LANG = {
  zh: {
    groupComparison: "群體比較分析",
    enableCompare: "啟用比較模式",
    compareDesc: "比較不同時間區間的整體變化（以群體平均值為基準）",
    basePeriod: "第一個日期區間 (基準期)",
    compPeriod: "第二個日期區間 (對照期)",
    selectDateRange: "請選擇開始至結束日期",
    clear: "清除",
    baseline: "基準期",
    comparison: "對照期",
    metric: "指標",
    change: "變化",
    riskImproved: "風險改善",
    riskIncreased: "風險上升",
    notEnabledTitle: "尚未啟用比較模式",
    notEnabledDesc: "請開啟右上方開關，開始進行兩段日期區間的數據對照",
    waitingDateTitle: "等待日期區間選取",
    waitingDateDesc: "請點擊上方輸入框，設定基準期與對照期的日期範圍",
    dateOrderErrorTitle: "日期順序不正確",
    dateOrderErrorDesc:
      "對照期（第二區間）的開始日期，必須晚於基準期（第一區間）的結束日期",
    reselectSecond: "重新選擇第二區間",
    noDataTitle: "該區間查無檢測資料",
    noDataDesc: "您的「{missing}」所選範圍內沒有任何紀錄，請嘗試選擇其他日期",
    visits: "人次",
    participantCount: "參與人數 {count} 人",
    avgSitStand: "平均坐站秒數",
    avgFallRisk: "平均跌倒風險",
    avgBalanceScore: "平均平衡得分",
    avgGaitSpeed: "平均步行速度",
    alertNoData: "查無資料",
    viewAll: "查看全部",
    prevPage: "上一頁",
    nextPage: "下一頁",
    page: "第",
    total: "頁 / 共",
    sitStand: "坐站平均秒數",
    balanceScore: "平衡分數",
    gaitSpeed: "步行速度",
    fallRisk: "跌倒風險 (%)",
    countWarning: "尚無資料",
    noRecord: "尚無檢測紀錄",
    noMatchedPerson: "目前沒有符合條件的人員",
    startDateText: "自 {yearMonth} ",
    latestDateText: "{date} 檢測",
    generatingPDF: "產生中...",
    downloadPDF: "下載",
    male: "男",
    female: "女",
    yearsOld: "歲",
    people: "人",
    seconds: "秒",
    points: "分",
    gaitSpeed: "cm/s",
    fallRisk: "％",
    walkDecline: "步行速度衰退",
    sitStandIncrease: "起坐秒數增加",
    vivifrailA: "A級失能者",
    vivifrailB: "B級衰弱者",
    vivifrailC: "C級衰弱前期者",
    overview: "總表",
    riskLabel: {
      high: "危險",
      slightlyHigh: "高",
      medium: "中",
      slightlyLow: "稍低",
      low: "低",
      unknown: "未知",
    },
    vivifrailLevelLabel: {
      A: "A級",
      B: "B級",
      C: "C級",
      D: "D級",
    },

    name: "姓名",
    genderLabel: "性別",
    ageLabel: "年齡",
    riskLevel: "等級",
    dates: "日期",
    degenerateWarning: "功能衰退警示 (較前次檢測衰退超過10%)",
    highRiskGroup: "高風險族群",
    all: "全部",
    month: "月",
    noDataThisMonth: "本月無資料",
    levelOverviewText:
      "顯示每位受測者的最新測驗結果，共 {people} 位受測者（{records} 筆測驗資料）。",
    levelSingleText: "{levelName}：共 {people} 位受測者（{records} 筆資料）。",
    overviewAllText:
      "顯示每位受測者的最新測驗結果，共 {people} 位受測者（{records} 筆測驗資料）。",
    overviewLevelText: "{level}：共 {people} 位受測者（{records} 筆資料）。",
    assessedCount: "鑑測人數",
    locations: {
      taipower: "台電據點",
      ntu: "台大據點",
      dapinlin: "大坪林據點",
      zhangxin: "樟新據點",
    },
  },

  en: {
    groupComparison: "Group Comparison Analysis",
    enableCompare: "Enable Comparison Mode",
    compareDesc:
      "Compare overall changes across time periods (based on group averages)",
    basePeriod: "First Date Range (Baseline)",
    compPeriod: "Second Date Range (Comparison)",
    selectDateRange: "Select Start and End Dates",
    clear: "Clear",
    baseline: "Baseline",
    comparison: "Comparison",
    metric: "Metric",
    change: "Change",
    riskImproved: "Risk Improved",
    riskIncreased: "Risk Increased",
    notEnabledTitle: "Comparison Mode Disabled",
    notEnabledDesc:
      "Please toggle the switch in the top right to start comparing two date ranges.",
    waitingDateTitle: "Waiting for Date Selection",
    waitingDateDesc:
      "Click the input fields above to set the baseline and comparison date ranges.",
    dateOrderErrorTitle: "Invalid Date Order",
    dateOrderErrorDesc:
      "The start of the comparison period must be after the end of the baseline period.",
    reselectSecond: "Reselect Second Range",
    noDataTitle: "No Data Found in Range",
    noDataDesc:
      'No records found in your "{missing}" range. Please try another date.',
    visits: "Visits",
    participantCount: "{count} Participants",
    avgSitStand: "Avg. Sit-to-Stand (s)",
    avgFallRisk: "Avg. Fall Risk (%)",
    avgBalanceScore: "Avg. Balance Score",
    avgGaitSpeed: "Avg. Gait Speed (cm/s)",
    alertNoData: "No data",
    viewAll: "View all",
    prevPage: "Previous",
    nextPage: "Next",
    page: "Page",
    total: "of",
    sitStand: "Sit-Stand Avg (s)",
    balanceScore: "Balance Score",
    gaitSpeed: "Gait Speed",
    fallRisk: "Fall Risk (%)",
    countWarning: "No data",
    noRecord: "No test records",
    noMatchedPerson: "No matching participants found",
    startDateText: "Accumulated since {yearMonth}",
    latestDateText: "Measured on {date}",
    generatingPDF: "Generating...",
    downloadPDF: "Download",
    male: "Male",
    female: "Female",
    yearsOld: "years old",
    people: "people",
    seconds: "s",
    points: "pts",
    gaitSpeed: "cm/s",
    fallRisk: "％",
    walkDecline: "Gait speed decline",
    sitStandIncrease: "Sit-stand time increase",
    vivifrailA: "Level A disabled",
    vivifrailB: "Level B frail",
    vivifrailC: "Level C pre-frail",
    overview: "Overview",
    riskLabel: {
      high: "Danger",
      slightlyHigh: "high",
      medium: "middle",
      slightlyLow: "Slightly lower",
      low: "Low",
      unknown: "Unknown",
    },
    vivifrailLevelLabel: {
      A: "A",
      B: "B",
      C: "C",
      D: "D",
    },

    name: "Name",
    genderLabel: "Gender",
    ageLabel: "Age",
    riskLevel: "Level",
    dates: "Date",
    degenerateWarning: "Degeneration Warning (decline > 10% since last test)",
    highRiskGroup: "High-Risk Group",
    all: "All",
    month: "Month",
    noDataThisMonth: "No data this month",
    levelOverviewText:
      "Showing the latest test results of each participant, total {people} participants ({records} test records).",
    levelSingleText: "{levelName}: {people} participants ({records} records).",
    overviewAllText:
      "Showing the latest result of each participant. Total {people} participants ({records} test records).",
    overviewLevelText: "{level}: {people} participants ({records} records).",
    assessedCount: "Number of people assessed",
    locations: {
      taipower: "Taipower Site",
      ntu: "NTU Site",
      dapinlin: "Dapinglin Site",
      zhangxin: "Zhangxin Site",
    },
  },
  ja: {
    groupComparison: "グループ比較分析",
    enableCompare: "比較モードを有効にする",
    compareDesc: "期間ごとの全体的な変化を比較（グループ平均を基準）",
    basePeriod: "第1期間 (基準)",
    compPeriod: "第2期間 (比較)",
    selectDateRange: "開始日と終了日を選択してください",
    clear: "クリア",
    baseline: "基準期間",
    comparison: "比較期間",
    metric: "指標",
    change: "変化",
    riskImproved: "リスク改善",
    riskIncreased: "リスク上昇",
    notEnabledTitle: "比較モードは無効です",
    notEnabledDesc:
      "右上のスイッチを入れて、2つの期間のデータ比較を開始してください。",
    waitingDateTitle: "期間を選択してください",
    waitingDateDesc:
      "上の入力欄をクリックして、基準期間と比較期間を設定してください。",
    dateOrderErrorTitle: "日付の順序が正しくありません",
    dateOrderErrorDesc:
      "比較期間（第2期間）の開始日は、基準期間（第1期間）の終了日より後である必要があります。",
    reselectSecond: "第2期間を再選択",
    noDataTitle: "データが見つかりません",
    noDataDesc:
      "選択された「{missing}」には記録がありません。別の期間を選択してください。",
    visits: "回",
    participantCount: "参加者数 {count} 人",
    avgSitStand: "平均座立秒数",
    avgFallRisk: "平均転倒リスク",
    avgBalanceScore: "平均バランススコア",
    avgGaitSpeed: "平均歩行速度",
    alertNoData: "データなし",
    viewAll: "すべて表示",
    prevPage: "前ページ",
    nextPage: "次ページ",
    page: "第",
    total: "ページ / 全",
    sitStand: "座立平均秒数",
    balanceScore: "バランススコア",
    gaitSpeed: "歩行速度",
    fallRisk: "転倒リスク (%)",
    countWarning: "データなし",
    noRecord: "検査記録なし",
    noMatchedPerson: "条件に一致する参加者がいません",
    startDateText: "以来{yearMonth}",
    latestDateText: "{date} 測定",
    generatingPDF: "生成中...",
    downloadPDF: "ダウンロード",
    male: "男性",
    female: "女性",
    yearsOld: "歳",
    people: "人",
    seconds: "秒",
    points: "点",
    gaitSpeed: "cm/s",
    fallRisk: "％",
    walkDecline: "歩行速度の低下",
    sitStandIncrease: "起立時間の増加",
    vivifrailA: "A級失能者",
    vivifrailB: "B級衰弱者",
    vivifrailC: "C級衰弱前期者",
    overview: "総表",
    riskLabel: {
      high: "危険",
      slightlyHigh: "高い",
      medium: "真ん中",
      slightlyLow: "わずかに低い",
      low: "低い",
      unknown: "不明",
    },
    vivifrailLevelLabel: {
      A: "A級",
      B: "B級",
      C: "C級",
      D: "D級",
    },

    name: "名前",
    genderLabel: "性別",
    ageLabel: "年齢",
    riskLevel: "等級",
    dates: "日付",
    degenerateWarning: "機能衰退警告（前回検査より10％以上低下）",
    highRiskGroup: "高リスク群",
    all: "すべて",
    month: "月",
    noDataThisMonth: "今月データなし",
    levelOverviewText:
      "各参加者の最新検査結果を表示しています。全 {people} 名（{records} 件の検査データ）。",
    levelSingleText: "{levelName}：全 {people} 名（{records} 件のデータ）。",
    overviewAllText:
      "各受検者の最新結果を表示しています。合計 {people} 人（{records} 件の検査データ）。",
    overviewLevelText: "{level}：合計 {people} 人（{records} 件）。",
    assessedCount: "鑑測人数",
    locations: {
      taipower: "台電拠点",
      ntu: "台大拠点",
      dapinlin: "大坪林拠点",
      zhangxin: "樟新拠点",
    },
  },
  ko: {
    groupComparison: "그룹 비교 분석",
    enableCompare: "비교 모드 활성화",
    compareDesc: "기간별 전체 변화 비교 (그룹 평균 기준)",
    basePeriod: "첫 번째 날짜 범위 (기준)",
    compPeriod: "두 번째 날짜 범위 (대조)",
    selectDateRange: "시작 및 종료 날짜를 선택하세요",
    clear: "지우기",
    baseline: "기준 기간",
    comparison: "대조 기간",
    metric: "지표",
    change: "변화",
    riskImproved: "위험 개선",
    riskIncreased: "위험 상승",
    notEnabledTitle: "비교 모드 비활성화됨",
    notEnabledDesc:
      "오른쪽 상단의 스위치를 켜서 두 기간의 데이터 비교를 시작하세요.",
    waitingDateTitle: "날짜 범위 선택 대기 중",
    waitingDateDesc:
      "위의 입력란을 클릭하여 기준 기간과 대조 기간을 설정하세요.",
    dateOrderErrorTitle: "날짜 순서가 잘못되었습니다",
    dateOrderErrorDesc:
      "대조 기간(두 번째 기간)의 시작일은 기준 기간(첫 번째 기간)의 종료일보다 늦어야 합니다.",
    reselectSecond: "두 번째 기간 다시 선택",
    noDataTitle: "데이터 없음",
    noDataDesc:
      '선택한 "{missing}" 내에 기록이 없습니다. 다른 날짜를 선택해 보세요.',
    visits: "회",
    participantCount: "참가자 수 {count} 명",
    avgSitStand: "평균 앉고 서기 시간",
    avgFallRisk: "평균 낙상 위험도",
    avgBalanceScore: "평균 균형 점수",
    avgGaitSpeed: "평균 보행 속도",
    alertNoData: "데이터 없음",
    viewAll: "모두보기",
    prevPage: "이전",
    nextPage: "다음",
    page: "페이지",
    total: " / 총",
    sitStand: "좌/서 평균 초",
    balanceScore: "균형 점수",
    gaitSpeed: "보행 속도",
    fallRisk: "낙상 위험 (%)",
    countWarning: "데이터 없음",
    noRecord: "검사 기록 없음",
    noMatchedPerson: "조건에 맞는 인원이 없습니다",
    startDateText: "이래{yearMonth}",
    latestDateText: "{date} 측정",
    generatingPDF: "생성 중...",
    downloadPDF: "다운로드",
    male: "남성",
    female: "여성",
    yearsOld: "세",
    people: "명",
    seconds: "초",
    points: "점",
    gaitSpeed: "cm/s",
    fallRisk: "％",
    walkDecline: "보행 속도 감소",
    sitStandIncrease: "기립 시간 증가",
    vivifrailA: "A등급 장애자",
    vivifrailB: "B등급 허약자",
    vivifrailC: "C등급 허약 전기자",
    overview: "전체표",
    riskLabel: {
      high: "위험",
      slightlyHigh: "높은",
      medium: "가운데",
      slightlyLow: "약간 낮음",
      low: "낮은",
      unknown: "알 수 없음",
    },
    vivifrailLevelLabel: {
      A: "A등급",
      B: "B등급",
      C: "C등급",
      D: "D등급",
    },

    name: "이름",
    genderLabel: "성별",
    ageLabel: "나이",
    riskLevel: "등급",
    dates: "날짜",
    degenerateWarning: "기능 저하 경고 (이전 검사 대비 10% 이상 감소)",
    highRiskGroup: "고위험군",
    all: "전체",
    month: "월",
    noDataThisMonth: "이번 달 데이터 없음",
    levelOverviewText:
      "각 참가자의 최신 검사 결과를 보여줍니다. 총 {people} 명 ({records} 건의 검사 데이터).",
    levelSingleText: "{levelName}: 총 {people} 명 ({records} 건의 데이터).",
    overviewAllText:
      "각 참가자의 최신 검사 결과를 표시합니다. 총 {people}명 ({records}건의 검사 기록).",
    overviewLevelText: "{level}: 총 {people}명 ({records}건).",
    assessedCount: "검사 인원수",
    locations: {
      taipower: "타이파워 거점",
      ntu: "타이완대 거점",
      dapinlin: "다핑린 거점",
      zhangxin: "장신 거점",
    },
  },
};

function t(key) {
  return LANG[window.currentLang][key] || key;
}
function tLocation(key) {
  return LANG[window.currentLang]?.locations?.[key] || key;
}
